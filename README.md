# FrontActiveRecord

## なにこれ
FrontActiveRecordは名前の通り、ActiveRecordをフロントエンドに持ってくるための悪あがきです。  
  
通常APIなどを設置してサーバー領域にリソースを持ちますが、  
最終的にフロントに名状しがたきモデルのようなものを組み上げます。  
  
FrontActiveRecordは**フロントエンドにバックエンドのモデルそのものを持ち出す**という  
かなり実験的でデイナミックな手段の提供を構想しています。


## なんで作ったか

単純に、バックエンドのモデルとフロントエンドの  
名状しがたきモデルのようなものの存在が冗長で、メンテナンス性に掛ける  
さらには「バック」「フロント」という明確な壁を作り上げている一つの要因ではないかと考えているからです。
  
FrontActiveRecordの狙いは以下の３つに絞られます。  
1. Modeled-APIフレームワークの提供  
2. RailsModelとの情報対称性の提供  
2. セキュアインターフェイスの提供  

### Modeled-API
多くのアプリケーションAPIは目的ごとにJSONやXMLを組み合わせた姿をしています。  
これらの多くは実は異なるエンドポイントで同一リソースを出力していたりしており、    
メンテナンス性をひどく低下させる要因になります。  
  
Modeled-APIとはAPIのエンドポイントをモデルそのものとして扱い、  
単種のリソースへのアクセス = APIへのリクエスト として取り扱えることを目標としています。  


### 情報対称性
限定的なスコープ中のActiveRecordによってアクセスできる全てのデータベースリソースに対して、  
FrontActiveRecordはアクセスできるインターフェイスを提供します。  
  
目指している使用感は、JSでActiveRecordをERB中のように制御することです。  


### セキュアインターフェイス
フロントエンドがモデルを持てない大きな要因はセキュリティリスクにあります。  
必要な制限を設けることで、リスクを考慮する必要なくモデルをJSで取り回すことを目標とします。  

具体的な手法は現在検討中ですが、APIに認証システムのようなフレームを用意することで  
リソースへのアクセスを根本から制限するような手法を考案中です。


### メリット
* データベースリソースに対して、より直感的で簡易的にJSからアクセスができる
* インターフェイスはRailsモデル側で定義することができ、単一リソースに対する実装をひとまとめにできる
* フロント制御においてピュアなJSによる制御が行えるようになる

### デメリット
* 多くの面でパフォーマンス的バッドステータスを持つ
  * JSオブジェクトを生成するためのコンパイル時間がかかる
  * 多くのリソースへのアクセスが必要な場合、最適化が難しい
* トランザクションなどリソース整合性をフロントで制御できない


繰り返しますが、この実装はかなり実験的です。
実現性の検討は現在進行中です。
